(function(b){var a=function(d,g){var e=function(j,k,l){return function(){l.$apply(function(){k.resolve(j.result)})}};var f=function(j,k,l){return function(){l.$apply(function(){k.reject(j.result)})}};var h=function(j,k){return function(l){k.$broadcast("fileProgress",{total:l.total,loaded:l.loaded})}};var i=function(k,l){var j=new FileReader();j.onload=e(j,k,l);j.onerror=f(j,k,l);j.onprogress=h(j,l);return j};var c=function(l,m){var k=d.defer();var j=i(k,m);j.readAsText(l,"ISO-8859-1");return k.promise};return{readAsText:c}};b.factory("fileReader",["$q","$log",a])}(angular.module("app")));